<?phpadd_shortcode( 'testimonial-slider', 'getTestimonialSlider' );function getTestimonialSlider($atts,$content){    extract( shortcode_atts( array(        'class' => '',        'id' => ''    ), $atts ) );        $return = '<div id="testimonial_slider" class="'.$class.'">';            $return .= '<div class="cycle-slideshow" data-cycle-fx=scrollHorz data-cycle-timeout=4000 data-cycle-auto-height="container" data-cycle-pause-on-hover="true" data-cycle-prev=".prev" data-cycle-next=".next" data-cycle-slides="> div">';                    wp_reset_query();                    if($id == ''){                        $args = array(                            'posts_per_page' => '-1',                            'post_type' => 'testimonials'                        );                    }else{                        $idarray = explode(',', $id);                        $args = array(                            'post_type' => 'testimonials',                            'posts_per_page' => -1,                            'post__in' => $idarray                        );                    }                    query_posts($args);                    while(have_posts()):the_post();                        $feat_image = wp_get_attachment_url( get_post_thumbnail_id(get_the_ID()) );                        $return .= '<div class="slide">';                            $return .= '<div class="container">';                                $return .= '<div class="slider_inner">';                                if($feat_image != ''){                                    $return .= '<img src="'.$feat_image.'"/>';                                }                                    $return .= '<blockquote class="limit" style="'.(($feat_image == '')?'margin-top:130px':'').'">';                                    $return .= '<em>';                                    $return .= get_the_content();                                    $return .= '</em>';                                    $return .= '</blockquote>';                                    $return .= '<cite>'.get_the_title().'</cite>';                                $return .= '</div>';                            $return .= '</div>';                        $return .= '</div>';                    endwhile;                    wp_reset_query();            $return .= '</div>';            $return .= '<div class="slider_controls">';                $return .= '<div class="container"><a href="#" class="prev"></a><a href="#" class="next"></a></div>';            $return .= '</div>';        $return .= '</div>';    return $return;}